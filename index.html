<!DOCTYPE HTML>
<html>
<head>
  <meta charset="UTF-8">
  <title>Main</title>
</head>

<body>
<div id="elm-root"></div>
<script type="text/javascript" src="elm.js"></script>
<script type="text/javascript">
  var initialData = localStorage.getItem("addTimeEntry");
  if (!initialData) {
    console.log("First Time Loading");
    initialData = [];
  }
  var app = Elm.Main.init({ node: document.getElementById("elm-root"), flags: initialData });

  // app.ports.addTimeEntry.subscribe(function(timeEntry) {
  //   var data = localStorage.getItem("timeEntries");
  //   console.log("data", data);
  //   // timeEntry.append? todo
  //   localStorage.setItem('timeEntries', JSON.stringify(data));
  //   app.ports.timeEntriesUpdated.send(data);
  // });

  app.ports.showDialog.subscribe(function (messageString) {
    alert(messageString);
  });

</script>
</body>
</html>
